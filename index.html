<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì‚¬ë‹¤ë¦¬ ë¸”ëŸ­ ì˜ˆì¸¡ ê²°ê³¼</title>
  <style>
    body { font-family: "Noto Sans KR", sans-serif; background: #f4f7ff; padding: 2rem; }
    h1 { font-size: 1.8rem; text-align: center; margin-bottom: 0.5rem; }
    #round-info { text-align: center; font-weight: bold; margin-bottom: 2rem; font-size: 1.2rem; }
    .box {
      background: #fff; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 600px; margin: 2rem auto; padding: 1.5rem;
    }
    h2 { font-size: 1.4rem; margin-bottom: 1rem; color: #333; text-align: center; }
    ul { list-style: none; padding: 0; }
    li { margin-bottom: 0.5rem; font-size: 1rem; text-align: center; }
  </style>
</head>
<body>
  <h1>ğŸ”® ì‚¬ë‹¤ë¦¬ ë¸”ëŸ­ ì˜ˆì¸¡ ê²°ê³¼</h1>
  <p id="round-info">ì˜ˆì¸¡ íšŒì°¨: ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>

  <section class="box">
    <h2>ğŸ“Š ë¸”ëŸ­ ê¸¸ì´ë³„ ìƒë‹¨ê°’ ì˜ˆì¸¡ (Top1)</h2>
    <ul id="prediction-list">
      <li>ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</li>
    </ul>
  </section>

  <script>
    async function loadBlockPrediction() {
      try {
        const res = await fetch("/predict_top_by_blocksize");
        const data = await res.json();

        // ì˜ˆì¸¡ íšŒì°¨ í‘œì‹œ
        document.getElementById("round-info").textContent = "ì˜ˆì¸¡ íšŒì°¨: " + data["ì˜ˆì¸¡íšŒì°¨"];

        const list = document.getElementById("prediction-list");
        list.innerHTML = "";

        for (const [label, info] of Object.entries(data)) {
          if (label === "ì˜ˆì¸¡íšŒì°¨") continue;
          const li = document.createElement("li");
          li.textContent = `${label} â†’ ì˜ˆì¸¡ê°’: ${info["ì˜ˆì¸¡ê°’"]} (${info["ì¶œí˜„"]}íšŒ)`;
          list.appendChild(li);
        }
      } catch (e) {
        const list = document.getElementById("prediction-list");
        list.innerHTML = "<li>âŒ ì˜ˆì¸¡ ë¡œë”© ì‹¤íŒ¨</li>";
        console.error(e);
      }
    }

    loadBlockPrediction();
  </script>
</body>
</html>