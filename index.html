<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>분석기 기반 사다리 예측</title>
  <style>
    body { font-family: sans-serif; background: #111; color: #fff; padding: 2rem; }
    h1 { color: #00f0ff; }
    .section { margin-bottom: 2rem; }
    .predict-box { border: 1px solid #333; padding: 1rem; border-radius: 10px; margin-bottom: 1rem; background: #222; }
    .predict-box h2 { margin-top: 0; color: #ffaa00; }
    .prediction { font-size: 1.2rem; margin: 0.5rem 0; }
  </style>
</head>
<body>
  <h1>🔍 분석기 기반 사다리 예측 결과</h1>
  <div id="result">결과 불러오는 중...</div>

  <script>
    fetch("/predict_analysis")
      .then(res => res.json())
      .then(data => {
        const resultDiv = document.getElementById("result");
        let html = `<div class='section'><strong>예측 회차:</strong> ${data['예측회차']}</div>`;

        const addSection = (title, list) => {
          html += `<div class='section predict-box'><h2>${title}</h2>`;
          list.forEach((item, idx) => {
            html += `<div class='prediction'>TOP${idx + 1}: ${item['예측값']} (점수: ${item['점수']})</div>`;
          });
          html += `</div>`;
        };

        addSection("신선도 기반 예측", data["신선도 기반 예측"]);
        addSection("다양도 기반 예측", data["다양도 기반 예측"]);

        resultDiv.innerHTML = html;
      })
      .catch(err => {
        document.getElementById("result").innerText = "에러 발생: " + err;
      });
  </script>
</body>
</html>
