<div class="summary-box">
  <h2>ğŸ”® íë¦„ ê¸°ë°˜ ì˜ˆì¸¡ (ìµœê·¼ 4ì¤„ ê¸°ì¤€)</h2>
  <div id="flow-result">
    <!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì±„ì›Œì§ -->
  </div>
</div>

<script>
async function loadFlowPrediction() {
  try {
    const res = await fetch("http://localhost:5000/predict_flow");
    const data = await res.json();

    const box = document.getElementById("flow-result");
    box.innerHTML = `
      <p><strong>ì˜ˆì¸¡íšŒì°¨:</strong> ${data["ì˜ˆì¸¡íšŒì°¨"]}</p>

      <h4>ğŸ“Œ ë°©í–¥ íë¦„: ${data["ìµœê·¼ë°©í–¥íë¦„"].join(" â†’ ")}</h4>
      <ul>
        ${data["ë°©í–¥ì˜ˆì¸¡ê°’"].map(v => `
          <li>${v.ê°’} (${v.ë¹ˆë„}íšŒ)</li>
        `).join("")}
      </ul>

      <h4>ğŸ“Œ í™€ì§ íë¦„: ${data["ìµœê·¼í™€ì§íë¦„"].join(" â†’ ")}</h4>
      <ul>
        ${data["í™€ì§ì˜ˆì¸¡ê°’"].map(v => `
          <li>${v.ê°’} (${v.ë¹ˆë„}íšŒ)</li>
        `).join("")}
      </ul>

      <h4>ğŸ§­ ë°©í–¥ ë§¤ì¹­ ìˆœë²ˆ</h4>
      <p>${data["ë°©í–¥ë§¤ì¹­"].map(m => m.ìˆœë²ˆ).join(", ")}</p>

      <h4>ğŸ§­ í™€ì§ ë§¤ì¹­ ìˆœë²ˆ</h4>
      <p>${data["í™€ì§ë§¤ì¹­"].map(m => m.ìˆœë²ˆ).join(", ")}</p>
    `;
  } catch (e) {
    document.getElementById("flow-result").textContent = "âŒ íë¦„ ì˜ˆì¸¡ ë¡œë”© ì‹¤íŒ¨";
    console.error(e);
  }
}

loadFlowPrediction();
</script>
