<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë¶„ì„ê¸° ê¸°ë°˜ ì‚¬ë‹¤ë¦¬ ì˜ˆì¸¡</title>
  <style>
    body { font-family: sans-serif; background: #111; color: #fff; padding: 2rem; }
    h1 { color: #00f0ff; }
    .section { margin-bottom: 2rem; }
    .predict-box { border: 1px solid #333; padding: 1rem; border-radius: 10px; margin-bottom: 1rem; background: #222; }
    .predict-box h2 { margin-top: 0; color: #ffaa00; }
    .prediction { font-size: 1.2rem; margin: 0.5rem 0; }
  </style>
</head>
<body>
  <h1>ğŸ” ë¶„ì„ê¸° ê¸°ë°˜ ì‚¬ë‹¤ë¦¬ ì˜ˆì¸¡ ê²°ê³¼</h1>
  <div id="result">ê²°ê³¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>

  <script>
    fetch("/predict_analysis")
      .then(res => res.json())
      .then(data => {
        const resultDiv = document.getElementById("result");
        let html = `<div class='section'><strong>ì˜ˆì¸¡ íšŒì°¨:</strong> ${data['ì˜ˆì¸¡íšŒì°¨']}</div>`;

        const addSection = (title, list) => {
          html += `<div class='section predict-box'><h2>${title}</h2>`;
          list.forEach((item, idx) => {
            html += `<div class='prediction'>TOP${idx + 1}: ${item['ì˜ˆì¸¡ê°’']} (ì ìˆ˜: ${item['ì ìˆ˜']})</div>`;
          });
          html += `</div>`;
        };

        addSection("ì‹ ì„ ë„ ê¸°ë°˜ ì˜ˆì¸¡", data["ì‹ ì„ ë„ ê¸°ë°˜ ì˜ˆì¸¡"]);
        addSection("ë‹¤ì–‘ë„ ê¸°ë°˜ ì˜ˆì¸¡", data["ë‹¤ì–‘ë„ ê¸°ë°˜ ì˜ˆì¸¡"]);

        resultDiv.innerHTML = html;
      })
      .catch(err => {
        document.getElementById("result").innerText = "ì—ëŸ¬ ë°œìƒ: " + err;
      });
  </script>
</body>
</html>
