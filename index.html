<div class="summary-box">
  <h2>🔮 흐름 기반 예측 (최근 4줄 기준)</h2>
  <div id="flow-result">
    <!-- 자바스크립트로 채워짐 -->
  </div>
</div>

<script>
async function loadFlowPrediction() {
  try {
    const res = await fetch("http://localhost:5000/predict_flow");
    const data = await res.json();

    const box = document.getElementById("flow-result");
    box.innerHTML = `
      <p><strong>예측회차:</strong> ${data["예측회차"]}</p>

      <h4>📌 방향 흐름: ${data["최근방향흐름"].join(" → ")}</h4>
      <ul>
        ${data["방향예측값"].map(v => `
          <li>${v.값} (${v.빈도}회)</li>
        `).join("")}
      </ul>

      <h4>📌 홀짝 흐름: ${data["최근홀짝흐름"].join(" → ")}</h4>
      <ul>
        ${data["홀짝예측값"].map(v => `
          <li>${v.값} (${v.빈도}회)</li>
        `).join("")}
      </ul>

      <h4>🧭 방향 매칭 순번</h4>
      <p>${data["방향매칭"].map(m => m.순번).join(", ")}</p>

      <h4>🧭 홀짝 매칭 순번</h4>
      <p>${data["홀짝매칭"].map(m => m.순번).join(", ")}</p>
    `;
  } catch (e) {
    document.getElementById("flow-result").textContent = "❌ 흐름 예측 로딩 실패";
    console.error(e);
  }
}

loadFlowPrediction();
</script>
