<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì‚¬ë‹¤ë¦¬ íë¦„ ì˜ˆì¸¡</title>
  <style>
    body { font-family: sans-serif; padding: 20px; background: #f9f9f9; }
    .summary-box { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    h2 { color: #333; }
    ul { padding-left: 20px; }
  </style>
</head>
<body>

<div class="summary-box">
  <h2>ğŸ”® íë¦„ ê¸°ë°˜ ì˜ˆì¸¡ (ìµœê·¼ 4ì¤„ ê¸°ì¤€)</h2>
  <div id="flow-result">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
</div>

<script>
async function loadFlowPrediction() {
  try {
    const res = await fetch("http://localhost:5000/predict_flow");
    const data = await res.json();

    const box = document.getElementById("flow-result");
    box.innerHTML = `
      <p><strong>ì˜ˆì¸¡íšŒì°¨:</strong> ${data["ì˜ˆì¸¡íšŒì°¨"]}</p>

      <h4>ğŸ“Œ ë°©í–¥ íë¦„: ${data["ìµœê·¼ë°©í–¥íë¦„"].join(" â†’ ")}</h4>
      <ul>
        ${data["ë°©í–¥ì˜ˆì¸¡ê°’"].map(v => `<li>${v.ê°’} (${v.ë¹ˆë„}íšŒ)</li>`).join("")}
      </ul>

      <h4>ğŸ“Œ í™€ì§ íë¦„: ${data["ìµœê·¼í™€ì§íë¦„"].join(" â†’ ")}</h4>
      <ul>
        ${data["í™€ì§ì˜ˆì¸¡ê°’"].map(v => `<li>${v.ê°’} (${v.ë¹ˆë„}íšŒ)</li>`).join("")}
      </ul>

      <h4>ğŸ§­ ë°©í–¥ ë§¤ì¹­ ìˆœë²ˆ</h4>
      <p>${data["ë°©í–¥ë§¤ì¹­"].map(m => m.ìˆœë²ˆ).join(", ")}</p>

      <h4>ğŸ§­ í™€ì§ ë§¤ì¹­ ìˆœë²ˆ</h4>
      <p>${data["í™€ì§ë§¤ì¹­"].map(m => m.ìˆœë²ˆ).join(", ")}</p>
    `;
  } catch (e) {
    document.getElementById("flow-result").textContent = "âŒ íë¦„ ì˜ˆì¸¡ ë¡œë”© ì‹¤íŒ¨";
    console.error(e);
  }
}

loadFlowPrediction();
</script>

</body>
</html>
